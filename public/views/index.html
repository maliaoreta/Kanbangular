<div id="header">
  <a id="title" href="/"><h1>Kanbangular</h1></a>

  <div ng-hide="toggleAddTask">
    <button id="addTaskButton" ng-click="toggleAddTask = !toggleAddTask">Add Task</button>
  </div>


  <div class="header-spacer"></div>

  <div id="loginInfo">
    <a href="/login" ng-hide=isLoggedIn>Login</a>
    <a href="#" ng-click="logout()" ng-show=isLoggedIn>Logout</a>
    <a href="/register">Register</a>
  </div>
</div>




<div id="tasks">

  <div class="addTask-container" ng-show="toggleAddTask">
    <button class="postButtons" id="exitButton" ng-click="toggleAddTask = !toggleAddTask"><i class="fa fa-times" aria-hidden="true"></i></button>
    <div id="addTaskSpace"></div>
    <div class="addTask">
      <input class="addTaskFormElement" type="text" ng-model="newTask.title" placeholder="title" required></input>
      <input class="addTaskFormElement" type="text" ng-model="newTask.description" placeholder="description" required></input>

      <select class="addTaskFormElement" ng-model="newTask.status" required>
        <option value="">---Please select---</option>
        <option value="Todo">Todo</option>
        <option value="In-Progress">In-Progress</option>
        <option value="Done">Done</option>
      </select>

      <button class="postButtons addTaskFormElement" ng-click="postTask(newTask); toggleAddTask = !toggleAddTask">Submit</button>
    </div>
  </div>


  <div class="task-container">

  <h1>Todo</h1>
  <div class="task-column">
    <div class="task" ng-repeat="todo in taskList | statusFilter:'Todo'">
        <div class="todoTask" ng-hide="toggleForm">

          <div class="buttons">
            <button class="edit" ng-click="toggleForm = !toggleForm"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></button>
            <button class="delete" ng-click="deleteTask(todo)"><i class="fa fa-trash fa-lg" aria-hidden="true"></i></button>
          </div>

          <div class="body">
            <h2 class="title">{{todo.title}}</h2>
            <div class="description">{{todo.description}}</div>
          </div>

          <div class="spacer"></div>

          <div class="arrows">
            <button class="disabledButton"><</button>
            <button ng-click="move(todo, 'right')">></button>
          </div>
        </div>

        <div class='todoTaskForm' ng-show="toggleForm">
          <input type="text" placeholder="title" ng-model="updatedFields.title"></input>
          <br>
          <textarea placeholder="description" ng-model="updatedFields.description"></textarea>
          <br>
          <button ng-click="edit(todo, updatedFields); toggleForm = !toggleForm">Submit</button>
          <button ng-click="toggleForm = !toggleForm">Exit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="task-spacer"></div>

  <div class="task-container">
    <h1>In-Progress</h1>
    <div class="task-column">
      <div class="task" id="inProgress" ng-repeat="inProgress in taskList | statusFilter:'In-Progress'">
        <div class="inProgressTask" ng-hide="toggleForm">
          <div class="body">
            <div>{{inProgress.title}}</div>
            <div>{{inProgress.description}}</div>
            <div>status: {{ inProgress.status }}</div>
          </div>

          <div class="buttons">
            <button ng-click="toggleForm = !toggleForm">Edit</button>
            <button ng-click="deleteTask(inProgress)">Delete</button>
          </div>

          <div class="arrows">
            <button ng-click="move(inProgress, 'left')"><</button>
            <button ng-click="move(inProgress, 'right')">></button>
          </div>
        </div>

        <div class="inProgressTaskForm" ng-show="toggleForm">
          <div class="body">
            <input type="text" placeholder="title" ng-model="updatedFields.title"></input>
            <input type="text" placeholder="description" ng-model="updatedFields.description"></input>
          </div>
          <div class="buttons">
            <button ng-click="edit(inProgress, updatedFields); toggleForm =! toggleForm">Submit</button>
            <button ng-click="toggleForm =! toggleForm">Exit</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="task-spacer"></div>

  <div class="task-container">
    <h1>Done</h1>
    <div class="task-column">
      <div class="task" id="done" ng-repeat="done in taskList | statusFilter:'Done'">
          <div class="doneTask" ng-hide="toggleForm">
            <div class="body">
              <div>{{done.title}}</div>
              <div>{{done.description}}</div>
              <div>status: {{done.status}}</div>
            </div>
            <div class="buttons">
              <button ng-click="toggleForm = !toggleForm">Edit</button>
              <button ng-click="deleteTask(done)">Delete</button>
            </div>
            <div class="arrows">
              <button ng-click="move(done, 'left')"><</button>
            </div>
          </div>

          <div class="doneTaskForm" ng-show="toggleForm">
            <div class="body">
              <input type="text" placeholder="title" ng-model="updatedFields.title"></input>
              <input type="text" placeholder="description" ng-model="updatedFields.description"></input>
            </div>
            <div class="buttons">
              <button ng-click="edit(done, updatedFields); toggleForm =! toggleForm">Submit</button>
              <button ng-click="toggleForm =! toggleForm">Exit</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

