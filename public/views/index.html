<div id="header">
  <a id="title" href="/"><h1>Kanbangular</h1></a>

  <div ng-hide="getPostForm">
    <button id="addTaskButton" ng-click="togglePostForm()">Add Task</button>
  </div>


  <div class="header-spacer"></div>

  <div id="loginInfo">
    <a id="login" href="/login" ng-hide=isLoggedIn>Login</a>
    <a id="logout" href="#" ng-click="logout()" ng-show=isLoggedIn>Logout</a>
    <a id="register" href="/register"ng-hide=isLoggedIn>Register</a>
  </div>
</div>




<div id="tasks">

  <div class="addTask-container" ng-show="getPostForm">
    <button class="postButtons" id="exitButton" ng-click="togglePostForm()"><i class="fa fa-times" aria-hidden="true"></i></button>
    <div id="addTaskSpace"></div>
    <div class="addTask" ng-init="newTask = {title:'', description:''}">
      <input class="addTaskFormElement" type="text" ng-model="newTask.title" placeholder="title" required></input>
      <div class="addTaskError">{{title}}</div>
      <input class="addTaskFormElement" type="text" ng-model="newTask.description" placeholder="description" required></input>
      <div class="addTaskError">{{description}}</div>

      <select class="addTaskFormElement" ng-model="newTask.status" required>
        <option value="">---Please select---</option>
        <option value="Todo">Todo</option>
        <option value="In-Progress">In-Progress</option>
        <option value="Done">Done</option>
      </select>
      <div class="addTaskError">{{status}}</div>

      <button class="postButtons addTaskFormElement" ng-click="postTask(newTask)">Submit</button>
    </div>
  </div>


  <div class="task-container">

  <h1>Todo</h1>
  <div class="task-column">
    <div class="task" ng-repeat="todo in taskList | statusFilter:'Todo'">
        <div class="taskDetails" ng-hide="getForm(this)">

          <div class="buttons">
            <button class="edit" ng-click="toggleForm(this)"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></button>
            <button class="delete" ng-click="deleteTask(todo)"><i class="fa fa-trash fa-lg" aria-hidden="true"></i></button>
          </div>

          <div class="body">
            <h2 class="title">{{todo.title}}</h2>
            <div class="description">{{todo.description}}</div>
          </div>

          <div class="spacer"></div>

          <div class="arrows">
            <button class="disabledButton" disabled><i class="fa fa-angle-left fa-2x" aria-hidden="true"></i>
</button>
            <button ng-click="move(todo, 'right')"><i class="fa fa-angle-right fa-2x" aria-hidden="true"></i>
</button>
          </div>
        </div>

        <div class='taskForm' ng-show="getForm(this)">
          <input type="text" ng-model="updatedFields.title" ng-init="updatedFields.title=todo.title"></input>
          <textarea ng-model="updatedFields.description" ng-init="updatedFields.description=todo.description"></textarea>
          <button ng-click="edit(todo, updatedFields); toggleForm(this)">Submit</button>
          <button ng-click="toggleForm(this)">Exit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="task-container">
    <h1>In-Progress</h1>
    <div class="task-column">
      <div class="task" id="inProgress" ng-repeat="inProgress in taskList | statusFilter:'In-Progress'">
        <div class="taskDetails" ng-hide="getForm(this)">

          <div class="buttons">
            <button class="edit" ng-click="toggleForm(this)"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></button>
            <button class="delete" ng-click="deleteTask(inProgress)"><i class="fa fa-trash fa-lg" aria-hidden="true"></i></button>
          </div>

          <div class="body">
            <h2 class="title">{{inProgress.title}}</h2>
            <div class="description">{{inProgress.description}}</div>
          </div>

          <div class="spacer"></div>

          <div class="arrows">
            <button ng-click="move(inProgress, 'left')"><i class="fa fa-angle-left fa-2x" aria-hidden="true"></i>
</button>
            <button ng-click="move(inProgress, 'right')"><i class="fa fa-angle-right fa-2x" aria-hidden="true"></i>
</button>
          </div>
        </div>


        <div class='taskForm' ng-show="getForm(this)">
          <input type="text" ng-model="updatedFields.title" ng-init="updatedFields.title=inProgress.title"></input>
          <textarea ng-model="updatedFields.description" ng-init="updatedFields.description=inProgress.description"></textarea>
          <button ng-click="edit(inProgress, updatedFields); toggleForm(this)">Submit</button>
          <button ng-click="toggleForm(this)">Exit</button>
        </div>

      </div>
    </div>
  </div>

  <div class="task-container">
    <h1>Done</h1>
    <div class="task-column">
      <div class="task" id="done" ng-repeat="done in taskList | statusFilter:'Done'">

        <div class="taskDetails" ng-hide="getForm(this)">
          <div class="buttons">
            <button class="edit" ng-click="toggleForm(this)"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></button>
            <button class="delete" ng-click="deleteTask(done)"><i class="fa fa-trash fa-lg" aria-hidden="true"></i></button>
          </div>

          <div class="body">
            <h2 class="title">{{done.title}}</h2>
            <div class="description">{{done.description}}</div>
          </div>

          <div class="spacer"></div>

          <div class="arrows">
            <button ng-click="move(done, 'left')"><i class="fa fa-angle-left fa-2x" aria-hidden="true"></i>
</button>
            <button class="disabledButton" disabled><i class="fa fa-angle-right fa-2x" aria-hidden="true"></i>
</button>
          </div>
        </div>

          <div class='taskForm' ng-show="getForm(this)">
            <input type="text" ng-model="updatedFields.title" ng-init="updatedFields.title=done.title"></input>
            <textarea ng-model="updatedFields.description" ng-init="updatedFields.description=done.description"></textarea>
            <button ng-click="edit(done, updatedFields); toggleForm(this)">Submit</button>
            <button ng-click="toggleForm(this)">Exit</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

